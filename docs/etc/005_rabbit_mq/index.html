<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="기술 블로그 정리 # RabbitMQ란? # RabbitMQ란? # AMQP를 따르는 오픈소스 메시지 브로커 메시지를 많은 사용자에게 전달하거나, 요청에 대한 처리 시간이 길 때, 해당 요청을 다른 API에게 위임하고 빠른 응답을 할때 많이 사용한다. AMQP # Advanced Message Queueing Protocol MQ의 오픈소스에 기반한 표준 프로토콜을 의미한다.
RabbitMQ 개념 # 1. Producer # 메시지를 생성하고 발송하는 주체 이 메시지가 Queue에 저장된다. Producer는 Queue에 직접 접근하지 않고, 항상 Exchange를 통해 접근하게 된다. 2.">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="" />
<meta property="og:description" content="기술 블로그 정리 # RabbitMQ란? # RabbitMQ란? # AMQP를 따르는 오픈소스 메시지 브로커 메시지를 많은 사용자에게 전달하거나, 요청에 대한 처리 시간이 길 때, 해당 요청을 다른 API에게 위임하고 빠른 응답을 할때 많이 사용한다. AMQP # Advanced Message Queueing Protocol MQ의 오픈소스에 기반한 표준 프로토콜을 의미한다.
RabbitMQ 개념 # 1. Producer # 메시지를 생성하고 발송하는 주체 이 메시지가 Queue에 저장된다. Producer는 Queue에 직접 접근하지 않고, 항상 Exchange를 통해 접근하게 된다. 2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://example.com/docs/etc/005_rabbit_mq/" /><meta property="article:section" content="docs" />
<meta property="article:published_time" content="2024-01-27T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-01-28T19:40:27+09:00" />

<title>005 Rabbit Mq | TIL</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" >
<link rel="stylesheet" href="/book.min.33a48f5432973b8ff9a82679d9e45d67f2c15d4399bd2829269455cfe390b5e8.css" integrity="sha256-M6SPVDKXO4/5qCZ52eRdZ/LBXUOZvSgpJpRVz&#43;OQteg=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.6b44bf82d72dcad4612ef388f6a6cd5beb846232a67e0907db9152be0ef1ff4f.js" integrity="sha256-a0S/gtctytRhLvOI9qbNW&#43;uEYjKmfgkH25FSvg7x/08=" crossorigin="anonymous"></script>

  <script defer src="/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js" integrity="sha256-b2&#43;Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC&#43;NdcPIvZhzk=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>TIL</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-353f7a5578fa41dbc42c73ea30fe2255" class="toggle"  />
    <label for="section-353f7a5578fa41dbc42c73ea30fe2255" class="flex justify-between">
      <a href="/docs/algorithm/" class="">Algorithm</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-92d85911959de2466ef66b3821f607d7" class="toggle"  />
    <label for="section-92d85911959de2466ef66b3821f607d7" class="flex justify-between">
      <a href="/docs/batch/" class="">Batch</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/batch/002_batch_performance/" class="">002 Batch Performance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/batch/001_performance_improved_batch/" class="">001 Performance Improved Batch</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-17728c6c6bedfdb3d8e5f42b88c6a9db" class="toggle"  />
    <label for="section-17728c6c6bedfdb3d8e5f42b88c6a9db" class="flex justify-between">
      <a href="/docs/clean_code/" class="">Clean Code</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/clean_code/001_argument/" class="">001 Argument</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-7cc6bc3da96a6c77d5e4cc0966a5e312" class="toggle"  />
    <label for="section-7cc6bc3da96a6c77d5e4cc0966a5e312" class="flex justify-between">
      <a href="/docs/data_structure/" class="">Data Structure</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f63d6cf864a4b2a00c9bc1b7f8921b37" class="toggle"  />
    <label for="section-f63d6cf864a4b2a00c9bc1b7f8921b37" class="flex justify-between">
      <a href="/docs/ddd/" class="">Ddd</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-10d41b0387e5bda7e9958b9b5ece051e" class="toggle"  />
    <label for="section-10d41b0387e5bda7e9958b9b5ece051e" class="flex justify-between">
      <a href="/docs/docker/" class="">Docker</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ba0b1465c1bad5a998860ad5f870bf7e" class="toggle" checked />
    <label for="section-ba0b1465c1bad5a998860ad5f870bf7e" class="flex justify-between">
      <a href="/docs/etc/" class="">Etc</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/etc/005_rabbit_mq/" class="active">005 Rabbit Mq</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/etc/004_sonar_qube/" class="">004 Sonar Qube</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/etc/003_huge_traffic_handling/" class="">003 Huge Traffic Handling</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/etc/002_tps/" class="">002 Tps</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/etc/001_jmeter/" class="">001 Jmeter</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-eca69da21de5b0cd25d8421dec09a327" class="toggle"  />
    <label for="section-eca69da21de5b0cd25d8421dec09a327" class="flex justify-between">
      <a href="/docs/java/" class="">Java</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/java/001_facade_pattern/" class="">001 Facade Pattern</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f3c1d22d19edbcf158d04b84a4d9d6c2" class="toggle"  />
    <label for="section-f3c1d22d19edbcf158d04b84a4d9d6c2" class="flex justify-between">
      <a href="/docs/jenkins/" class="">Jenkins</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-55218fb7ef47d61aa86fc77253026243" class="toggle"  />
    <label for="section-55218fb7ef47d61aa86fc77253026243" class="flex justify-between">
      <a href="/docs/jpa/" class="">Jpa</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c03dced0c5b16cbce767a51b81ce1077" class="toggle"  />
    <label for="section-c03dced0c5b16cbce767a51b81ce1077" class="flex justify-between">
      <a href="/docs/kafka/" class="">Kafka</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/kafka/006_replication/" class="">006 Replication</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/kafka/007_isr/" class="">007 Isr</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/kafka/004_kafka_broker/" class="">004 Kafka Broker</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/kafka/005_broker_log_segment/" class="">005 Broker Log Segment</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/kafka/003_transactional_outbox_pattern/" class="">003 Transactional Outbox Pattern</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/kafka/002_kafka_intro/" class="">002 Kafka Intro</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/kafka/001_kafka_cdc/" class="">001 Kafka Cdc</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-04d541b0249994115320e926dbc9d6c5" class="toggle"  />
    <label for="section-04d541b0249994115320e926dbc9d6c5" class="flex justify-between">
      <a href="/docs/kotlin/" class="">Kotlin</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/kotlin/005_Kotlin_extractList_Method/" class="">005 Kotlin Extract List Method</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/kotlin/004_Kotlin_Scoping_Functions/" class="">004 Kotlin Scoping Functions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/kotlin/003_Kotlin_basic/" class="">003 Kotlin Basic</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/kotlin/002_Functional_Programming_Example/" class="">002 Functional Programming Example</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/kotlin/001_Functional_Programming/" class="">001 Functional Programming</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6ae1a891fb3a3f71d71273fc61b29b76" class="toggle"  />
    <label for="section-6ae1a891fb3a3f71d71273fc61b29b76" class="flex justify-between">
      <a href="/docs/linux/" class="">Linux</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b16ff4658c272fcaa2c58683b4c10070" class="toggle"  />
    <label for="section-b16ff4658c272fcaa2c58683b4c10070" class="flex justify-between">
      <a href="/docs/mongodb/" class="">Mongodb</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/mongodb/003_spring_data_mongodb/" class="">003 Spring Data Mongodb</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/mongodb/004_object_mapping/" class="">004 Object Mapping</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/mongodb/005_mongoOperations/" class="">005 Mongo Operations</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/mongodb/006_reactiveMongoRepository/" class="">006 Reactive Mongo Repository</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/mongodb/007_query_method/" class="">007 Query Method</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/mongodb/001_reactive_mongodb/" class="">001 Reactive Mongodb</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/mongodb/002_mongodb_document/" class="">002 Mongodb Document</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-5e9a5c8a0cadf7504bcc8a3083d0b6fb" class="toggle"  />
    <label for="section-5e9a5c8a0cadf7504bcc8a3083d0b6fb" class="flex justify-between">
      <a href="/docs/msa/" class="">Msa</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/msa/003_circuit_breaker/" class="">003 Circuit Breaker</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/msa/001_reactive/" class="">001 Reactive</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/msa/002_reactive_microservice/" class="">002 Reactive Microservice</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6d933f523f0d56e111956755e38e3f44" class="toggle"  />
    <label for="section-6d933f523f0d56e111956755e38e3f44" class="flex justify-between">
      <a href="/docs/mvc/" class="">Mvc</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-e66e2e478c81786f553bd82d3931b216" class="toggle"  />
    <label for="section-e66e2e478c81786f553bd82d3931b216" class="flex justify-between">
      <a href="/docs/mysql/" class="">Mysql</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-3110560962cac834dcd3aead95e804a4" class="toggle"  />
    <label for="section-3110560962cac834dcd3aead95e804a4" class="flex justify-between">
      <a href="/docs/network/" class="">Network</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-bbe16af0cda0a52165d4874f0cea4ee0" class="toggle"  />
    <label for="section-bbe16af0cda0a52165d4874f0cea4ee0" class="flex justify-between">
      <a href="/docs/operating_system/" class="">Operating System</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/operating_system/001_thread/" class="">001 Thread</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-bf2e8ecdf9011d9f48a2a3a2c2d46bd1" class="toggle"  />
    <label for="section-bf2e8ecdf9011d9f48a2a3a2c2d46bd1" class="flex justify-between">
      <a href="/docs/oracle/" class="">Oracle</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2aa56d1b653c397446719c79393a70da" class="toggle"  />
    <label for="section-2aa56d1b653c397446719c79393a70da" class="flex justify-between">
      <a href="/docs/parallel_programming/" class="">Parallel Programming</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/032_volatile/" class="">032 Volatile</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/033_deadlock/" class="">033 Deadlock</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/031_wait_notify/" class="">031 Wait Notify</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/030_synchronized_etc/" class="">030 Synchronized Etc</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/029_method_synchronized/" class="">029 Method Synchronized</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/027_spin_lock/" class="">027 Spin Lock</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/028_synchronized_basic/" class="">028 Synchronized Basic</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/026_monitor/" class="">026 Monitor</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/024_mutual_exclusion/" class="">024 Mutual Exclusion</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/025_semaphore/" class="">025 Semaphore</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/020_single_multi_thread/" class="">020 Single Multi Thread</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/021_synchronized_cpu/" class="">021 Synchronized CPU</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/022_critical_section/" class="">022 Critical Section</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/023_thread_safe/" class="">023 Thread Safe</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/017_thread_type/" class="">017 Thread Type</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/018_thread_group/" class="">018 Thread Group</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/019_threadLocal/" class="">019 Thread Local</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/012_thread_interrupt/" class="">012 Thread Interrupt</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/013_thread_info/" class="">013 Thread Info</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/014_thread_priority/" class="">014 Thread Priority</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/015_thread_uncaughtExceptionHandler/" class="">015 Thread Uncaught Exception Handler</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/016_thread_stop_flag/" class="">016 Thread Stop Flag</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/011_thread_join/" class="">011 Thread Join</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/010_thread_sleep/" class="">010 Thread Sleep</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/009_thread_status/" class="">009 Thread Status</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/008_thread_start/" class="">008 Thread Start</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/004_cpu_bound_io_bound/" class="">004 CPU Bound Io Bound</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/005_user_kernel_systemcall/" class="">005 User Kernel Systemcall</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/006_user_mode_kernel_mode_thread/" class="">006 User Mode Kernel Mode Thread</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/007_java_thread/" class="">007 Java Thread</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/003_context_switching/" class="">003 Context Switching</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/001_process_thread/" class="">001 Process Thread</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/parallel_programming/002_parallel_concurrent/" class="">002 Parallel Concurrent</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-708c7a6270d696606cabeb20f951886f" class="toggle"  />
    <label for="section-708c7a6270d696606cabeb20f951886f" class="flex justify-between">
      <a href="/docs/r2dbc/" class="">R2dbc</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/r2dbc/005_r2dbc_Metadata_mapping/" class="">005 R2dbc Metadata Mapping</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/r2dbc/006_r2dbcEntityOperations/" class="">006 R2dbc Entity Operations</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/r2dbc/007_r2dbcRepository/" class="">007 R2dbc Repository</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/r2dbc/008_r2dbc_query_method/" class="">008 R2dbc Query Method</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/r2dbc/003_r2dbcEntityTemplate/" class="">003 R2dbc Entity Template</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/r2dbc/004_r2dbc_object_mapping/" class="">004 R2dbc Object Mapping</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/r2dbc/002_r2dbc_mysql/" class="">002 R2dbc Mysql</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/r2dbc/001_r2dbc_intro/" class="">001 R2dbc Intro</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c1a35f6db1170c97addf30f5d9f50bc9" class="toggle"  />
    <label for="section-c1a35f6db1170c97addf30f5d9f50bc9" class="flex justify-between">
      <a href="/docs/rdbms/" class="">Rdbms</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/rdbms/004_window_function/" class="">004 Window Function</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/rdbms/005_subquery/" class="">005 Subquery</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/rdbms/001_basic_join/" class="">001 Basic Join</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/rdbms/002_date_interval/" class="">002 Date Interval</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/rdbms/003_groupby/" class="">003 Groupby</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a396ef4e072acbb7275e447dad1284d6" class="toggle"  />
    <label for="section-a396ef4e072acbb7275e447dad1284d6" class="flex justify-between">
      <a href="/docs/reactive_streams/" class="">Reactive Streams</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/reactive_streams/002_impl1_reactor/" class="">002 Impl1 Reactor</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/reactive_streams/003_impl2_rxjava/" class="">003 Impl2 Rxjava</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/reactive_streams/004_impl3_munity/" class="">004 Impl3 Munity</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/reactive_streams/001_reactive_streams_component/" class="">001 Reactive Streams Component</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a27d7ef673b519721b4909eba7547282" class="toggle"  />
    <label for="section-a27d7ef673b519721b4909eba7547282" class="flex justify-between">
      <a href="/docs/redis/" class="">Redis</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/redis/008_spring_session_redis/" class="">008 Spring Session Redis</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/redis/007_redis_cluster_migration/" class="">007 Redis Cluster Migration</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/redis/003_reactive_redis_intro/" class="">003 Reactive Redis Intro</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/redis/004_Lettuce/" class="">004 Lettuce</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/redis/005_ReactiveRedisTemplate/" class="">005 Reactive Redis Template</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/redis/006_ReactiveOperations/" class="">006 Reactive Operations</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/redis/001_redis_datastructure/" class="">001 Redis Datastructure</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/redis/002_redis_cache/" class="">002 Redis Cache</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6ce8ef21c020ccdb7ed73156795b30be" class="toggle"  />
    <label for="section-6ce8ef21c020ccdb7ed73156795b30be" class="flex justify-between">
      <a href="/docs/security/" class="">Security</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-4442d34d5ae489970dcda30dcfc7289e" class="toggle"  />
    <label for="section-4442d34d5ae489970dcda30dcfc7289e" class="flex justify-between">
      <a href="/docs/servlet/" class="">Servlet</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-12bece9beab0746d531536027bb6a777" class="toggle"  />
    <label for="section-12bece9beab0746d531536027bb6a777" class="flex justify-between">
      <a href="/docs/spring/" class="">Spring</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-bc7d9ceb6dc60f10f3ecfb9266f57cb9" class="toggle"  />
    <label for="section-bc7d9ceb6dc60f10f3ecfb9266f57cb9" class="flex justify-between">
      <a href="/docs/springbatch/" class="">Springbatch</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/springbatch/002_Job/" class="">002 Job</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/springbatch/003_JobInstance/" class="">003 Job Instance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/springbatch/001_springbatch_start/" class="">001 Springbatch Start</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-5f1e4c3c9f29fee9a25ac2c5291c7472" class="toggle"  />
    <label for="section-5f1e4c3c9f29fee9a25ac2c5291c7472" class="flex justify-between">
      <a href="/docs/webflux/" class="">Webflux</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>











  
<ul>
  
  <li>
    <a href="/posts/"  >
        Categories and tags
      </a>
  </li>
  
  <li>
    <a href="https://github.com/seohaebada"  target="_blank" rel="noopener">
        Github
      </a>
  </li>
  
  <li>
    <a href="https://devfunny.tistory.com"  target="_blank" rel="noopener">
        Blog
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>005 Rabbit Mq</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#기술-블로그-정리">기술 블로그 정리</a></li>
    <li><a href="#rabbitmq란">RabbitMQ란?</a>
      <ul>
        <li><a href="#rabbitmq란-1">RabbitMQ란?</a>
          <ul>
            <li><a href="#amqp">AMQP</a></li>
          </ul>
        </li>
        <li><a href="#rabbitmq-개념">RabbitMQ 개념</a>
          <ul>
            <li><a href="#1-producer">1. Producer</a></li>
            <li><a href="#2-exchange">2. Exchange</a></li>
            <li><a href="#3-binding">3. Binding</a></li>
            <li><a href="#4-queue">4. Queue</a></li>
            <li><a href="#5-consumer">5. Consumer</a></li>
          </ul>
        </li>
        <li><a href="#exchange-타입">Exchange 타입</a>
          <ul>
            <li><a href="#direct">Direct</a></li>
            <li><a href="#topic">Topic</a></li>
            <li><a href="#headers">Headers</a></li>
            <li><a href="#fanout">Fanout</a></li>
          </ul>
        </li>
        <li><a href="#message-queue-및-message-보존">Message Queue 및 Message 보존</a></li>
        <li><a href="#dispatching">dispatching</a></li>
        <li><a href="#fair-dispatching">Fair dispatching</a>
          <ul>
            <li><a href="#prefetch-count">prefetch count</a></li>
          </ul>
        </li>
        <li><a href="#소비자-서버가-죽었을-경우">소비자 서버가 죽었을 경우</a></li>
        <li><a href="#message-durability">Message Durability</a>
          <ul>
            <li><a href="#영속성">영속성</a></li>
          </ul>
        </li>
        <li><a href="#rabbitmq-노드">RabbitMQ 노드</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="기술-블로그-정리">
  기술 블로그 정리
  <a class="anchor" href="#%ea%b8%b0%ec%88%a0-%eb%b8%94%eb%a1%9c%ea%b7%b8-%ec%a0%95%eb%a6%ac">#</a>
</h1>
<h1 id="rabbitmq란">
  RabbitMQ란?
  <a class="anchor" href="#rabbitmq%eb%9e%80">#</a>
</h1>
<h2 id="rabbitmq란-1">
  RabbitMQ란?
  <a class="anchor" href="#rabbitmq%eb%9e%80-1">#</a>
</h2>
<ul>
<li>AMQP를 따르는 오픈소스 메시지 브로커</li>
<li>메시지를 많은 사용자에게 전달하거나, 요청에 대한 처리 시간이 길 때, 해당 요청을 다른 API에게 위임하고 빠른 응답을 할때 많이 사용한다.</li>
</ul>
<h3 id="amqp">
  AMQP
  <a class="anchor" href="#amqp">#</a>
</h3>
<p>Advanced Message Queueing Protocol
MQ의 오픈소스에 기반한 표준 프로토콜을 의미한다.</p>
<h2 id="rabbitmq-개념">
  RabbitMQ 개념
  <a class="anchor" href="#rabbitmq-%ea%b0%9c%eb%85%90">#</a>
</h2>
<p>
  <img src="/image/etc/005/img.png" alt="img.png" /></p>
<h3 id="1-producer">
  1. Producer
  <a class="anchor" href="#1-producer">#</a>
</h3>
<ul>
<li>메시지를 생성하고 발송하는 주체</li>
<li>이 메시지가 Queue에 저장된다.</li>
<li>Producer는 Queue에 직접 접근하지 않고, 항상 Exchange를 통해 접근하게 된다.</li>
</ul>
<h3 id="2-exchange">
  2. Exchange
  <a class="anchor" href="#2-exchange">#</a>
</h3>
<ul>
<li>Producer들에게서 전달받은 메시지들을 어떤 Queue들에게 발송할지를 결정하는 객체</li>
<li>4가지 타입이 있으며, 일종의 라우터 개념</li>
</ul>
<h3 id="3-binding">
  3. Binding
  <a class="anchor" href="#3-binding">#</a>
</h3>
<ul>
<li>Exchange에게 메시지를 라우팅 할 규칙을 지정하는 행위</li>
<li>특정 조건에 맞는 메시지를 특정 큐에 전송하도록 설정할 수 있는데, 이는 해당 Exchange 타입에 맞게 설정되어야한다.</li>
<li>Exchange와 Queue는 m:n binding이 가능하다.</li>
</ul>
<h3 id="4-queue">
  4. Queue
  <a class="anchor" href="#4-queue">#</a>
</h3>
<ul>
<li>Producer들이 발송한 메시지들이 Consumer가 소비하기 전까지 보관되는 장소</li>
<li>같은 이름과 같은 설정으로 Queue를 생성하면 에러 없이 기존 Queue에 연결되지만, 같은 이름과 다른 설정으로 Queue를 생성하려고 시도하면 에러 발생한다.</li>
</ul>
<h3 id="5-consumer">
  5. Consumer
  <a class="anchor" href="#5-consumer">#</a>
</h3>
<ul>
<li>메시지를 수신하는 주체</li>
<li>Queue에 직접 접근하여 메시지를 가져온다.</li>
</ul>
<h2 id="exchange-타입">
  Exchange 타입
  <a class="anchor" href="#exchange-%ed%83%80%ec%9e%85">#</a>
</h2>
<ul>
<li>
<ol>
<li>Direct : Routing key가 정확히 일치하는 Queue에 메시지 전송</li>
</ol>
</li>
<li>
<ol start="2">
<li>Topic : Routing key 패턴이 일치하는 Queue에 메시지 전송</li>
</ol>
</li>
<li>
<ol start="3">
<li>Headers : <code>[key:value]</code> 로 이루어진 header 값을 기준으로 일치하는 Queue에 메시지 전송</li>
</ol>
</li>
<li>
<ol start="4">
<li>Fanout : 해당 Exchange에 등록된 모든 Queue에 메시지 전송</li>
</ol>
</li>
</ul>
<h3 id="direct">
  Direct
  <a class="anchor" href="#direct">#</a>
</h3>
<ul>
<li>라우팅 키를 이용하여 메시지를 라우팅하는데, 하나의 큐에 여러개의 라우팅 키를 지정할 수 있다.</li>
</ul>
<p>
  <img src="/image/etc/005/img_1.png" alt="img_1.png" /></p>
<ul>
<li>각 메시지에 따라 C1, C2에 저장</li>
</ul>
<p>
  <img src="/image/etc/005/img_2.png" alt="img_2.png" /></p>
<ul>
<li>여러 큐에 같은 라우팅 키를 지정하여 Fanout처럼 동작하게 할 수도 있다.</li>
</ul>
<h3 id="topic">
  Topic
  <a class="anchor" href="#topic">#</a>
</h3>
<ul>
<li>라우팅 키 패턴을 이용하여 메시지를 라우팅한다.</li>
</ul>
<p>
  <img src="/image/etc/005/img_3.png" alt="img_3.png" /></p>
<ul>
<li>example.orange.rabbit -&gt; 메시지가 Q1, Q2에 모두 전달</li>
<li>example.orange.turtle -&gt; 메시지가 Q1에 전달</li>
<li>lazy.grape.rabbit -&gt; 메시지가 Q2에 한번만 전달
<ul>
<li>라우팅 패턴이 여러개 일치하더라도 하나의 큐에는 메시지가 한번만 전달된다.</li>
</ul>
</li>
</ul>
<h3 id="headers">
  Headers
  <a class="anchor" href="#headers">#</a>
</h3>
<ul>
<li>Topic Exchange와 유사하지만 라우팅을 위해 header를 쓴다는 차이점이 있다.

  <img src="/image/etc/005/img_4.png" alt="img_4.png" /></li>
</ul>
<h3 id="fanout">
  Fanout
  <a class="anchor" href="#fanout">#</a>
</h3>
<ul>
<li>exchange에 등록된 모든 queue에 메시지를 전송한다.

  <img src="/image/etc/005/img_5.png" alt="img_5.png" /></li>
</ul>
<h2 id="message-queue-및-message-보존">
  Message Queue 및 Message 보존
  <a class="anchor" href="#message-queue-%eb%b0%8f-message-%eb%b3%b4%ec%a1%b4">#</a>
</h2>
<p>RabbitMq server가 종료 후 재기동하면, 기본적으로 Queue는 모두 제거된다.
이를 막기 위해서는 Queue를 생성할때, Durable 옵션에 true를 주고 생성해야한다.
Producer가 메시지를 발송할 때, PERSISTENT_TEXT_PLAIN 옵션을 주어야 메시지가 보존된다.</p>
<h2 id="dispatching">
  dispatching
  <a class="anchor" href="#dispatching">#</a>
</h2>
<p>만약 여러 소비자가 1개의 Queue를 바라보고 있다면 RabbitMQ에서는 Round-Robin 사용해 메시지를 균등하게 분배한다.
즉, 중복 처리를 방지하기 위해 첫번째 메시지는 소비자 1에게 전달하고, 두번째 메시지는 소비자1이 아닌 소비자2에게 전달한다.
소비자 뿐만 아니라 여러 생산자도 같은 Queue에 메시지를 전달할 수 있다.
이러한 특성으로 메시지를 받아 처리하는 프로그램의 수평 확장이 가능하다.</p>
<h2 id="fair-dispatching">
  Fair dispatching
  <a class="anchor" href="#fair-dispatching">#</a>
</h2>
<p>만약 소비자는 2개만 존재하고 홀수번째의 메시지의 크기는 항상 크고 짝수번째 메시지는 항상 작다면,
Round-Robin 알고리즘을 사용해서 메시지 분배를 해도 공평하게 소비자에게 전달되지 않는다.
이러한 이유로 지연이 발생한 소비자에는 메시지를 전달하지 않도록 prefetch count라는 개념을 사용한다.</p>
<h3 id="prefetch-count">
  prefetch count
  <a class="anchor" href="#prefetch-count">#</a>
</h3>
<ul>
<li>1로 설정 : 소비자로부터 act을 받지 못한 메시지가 1개라도 있으면 해당 소비자에게 메시지를 전달하지 않는다.</li>
<li>즉, prefetch count는 소비자에게 동시에 전달되는 메시지의 양이다.</li>
</ul>
<h2 id="소비자-서버가-죽었을-경우">
  소비자 서버가 죽었을 경우
  <a class="anchor" href="#%ec%86%8c%eb%b9%84%ec%9e%90-%ec%84%9c%eb%b2%84%ea%b0%80-%ec%a3%bd%ec%97%88%ec%9d%84-%ea%b2%bd%ec%9a%b0">#</a>
</h2>
<p>Queue는 소비자에게 메시지를 전달한 후 ACK를 받았을때 해당 메시지를 dequeue한다.
소비자가 ACK를 Queue에 전달하지 못하는 경우는 메시지가 너무 커서 아직 처리 중이거나 소비자 서버가 죽었을 때이다.
RabbitMQ에서는 ACK을 받지 못한 메시지의 경우, 대기를 하고 있다가 전달한 소비자 서버의 상태를 확인한 후,
Disconnected와 같은 신호를 받았을 경우 해당 소비자를 제외하고 다른 소비자에게 동일한 메시지를 전달한다.</p>
<h2 id="message-durability">
  Message Durability
  <a class="anchor" href="#message-durability">#</a>
</h2>
<p>만약 메시지를 Queue에 넣은 다음 소비자에게 전달하기 전에 RabbitMq가 죽는다면,
Queue는 메모리에 데이터를 쓰는 형식이므로 모든 데이터가 소멸하게 된다.</p>
<h3 id="영속성">
  영속성
  <a class="anchor" href="#%ec%98%81%ec%86%8d%ec%84%b1">#</a>
</h3>
<p>message durability는 메시지가 Queue에 저장될때, disk의 파일에도 동시에 저장하는 방법이다.</p>
<p>해당 방법을 사용하면 서버가 죽었을때, Queue의 데이터가 어느 정도 복구가 되지만 메시지가 disk의 파일에 쓰는 도중에
서버가 죽는 경우도 있어서 일부 데이터의 소실이 발생할 수 있다.</p>
<h2 id="rabbitmq-노드">
  RabbitMQ 노드
  <a class="anchor" href="#rabbitmq-%eb%85%b8%eb%93%9c">#</a>
</h2>
<ul>
<li>RAM : 모든 메타 정보를 메모리에 저장한다.
<ul>
<li>disc보다 성능이 좋지만 해당 노드에 문제가 생겼을때 데이터가 유실될 수 있다.</li>
</ul>
</li>
<li>disc : 데이터를 디스크에 저장한다.</li>
</ul>
<p>RabbitMQ는 클러스터 내 모든 노드를 RAM 타입을 구성하는 것을 제한한다.
반드시 1개 이상의 disc 타입의 노드를 포함해야한다.</p>
<hr>




<div class="book-tabs"><input type="radio" class="toggle" name="tabs-References" id="tabs-References-0" checked="checked" />
  <label for="tabs-References-0">References</label>
  <div class="book-tabs-content markdown-inner"><ol>
<li>
  <a href="https://somaz.tistory.com/119#google_vignette">https://somaz.tistory.com/119#google_vignette</a></li>
</ol>
</div></div>

</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">


  <div><a class="flex align-center" href="https://github.com/seohaebada/TIL/commit/8ded0e59ee5226ca0d22bcea2ed390276145b94b" title='Last modified by seohaebada | January 28, 2024' target="_blank" rel="noopener">
      <img src="/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>January 28, 2024</span>
    </a>
  </div>



  <div>
    <a class="flex align-center" href="https://github.com/seohaebada/TIL/content/docs/content/docs/etc/005_rabbit_mq.md" target="_blank" rel="noopener">
      <img src="/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>


</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#기술-블로그-정리">기술 블로그 정리</a></li>
    <li><a href="#rabbitmq란">RabbitMQ란?</a>
      <ul>
        <li><a href="#rabbitmq란-1">RabbitMQ란?</a>
          <ul>
            <li><a href="#amqp">AMQP</a></li>
          </ul>
        </li>
        <li><a href="#rabbitmq-개념">RabbitMQ 개념</a>
          <ul>
            <li><a href="#1-producer">1. Producer</a></li>
            <li><a href="#2-exchange">2. Exchange</a></li>
            <li><a href="#3-binding">3. Binding</a></li>
            <li><a href="#4-queue">4. Queue</a></li>
            <li><a href="#5-consumer">5. Consumer</a></li>
          </ul>
        </li>
        <li><a href="#exchange-타입">Exchange 타입</a>
          <ul>
            <li><a href="#direct">Direct</a></li>
            <li><a href="#topic">Topic</a></li>
            <li><a href="#headers">Headers</a></li>
            <li><a href="#fanout">Fanout</a></li>
          </ul>
        </li>
        <li><a href="#message-queue-및-message-보존">Message Queue 및 Message 보존</a></li>
        <li><a href="#dispatching">dispatching</a></li>
        <li><a href="#fair-dispatching">Fair dispatching</a>
          <ul>
            <li><a href="#prefetch-count">prefetch count</a></li>
          </ul>
        </li>
        <li><a href="#소비자-서버가-죽었을-경우">소비자 서버가 죽었을 경우</a></li>
        <li><a href="#message-durability">Message Durability</a>
          <ul>
            <li><a href="#영속성">영속성</a></li>
          </ul>
        </li>
        <li><a href="#rabbitmq-노드">RabbitMQ 노드</a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












